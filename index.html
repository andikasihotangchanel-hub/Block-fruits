<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Block Fruits Game v1</title>
<style>
body {
  margin: 0;
  background: #222;
  overflow: hidden;
}
canvas {
  display: block;
  background: linear-gradient(#4caf50, #2e7d32);
}
#info {
  position: fixed;
  top: 10px;
  left: 10px;
  color: white;
  font-family: Arial;
  background: rgba(0,0,0,0.4);
  padding: 8px 12px;
  border-radius: 8px;
}
</style>
</head>
<body>

<div id="info">üçâ Block Fruis<br>Gerak: ‚óÄ ‚ñ∂ Lompat: ‚ñ≤</div>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// Player
const player = {
  x: 100,
  y: canvas.height - 120,
  w: 40,
  h: 40,
  vy: 0,
  speed: 6,
  jump: -15,
  onGround: false
};

const gravity = 0.8;

// Fruit
let fruits = [];

function spawnFruit() {
  fruits.push({
    x: Math.random() * (canvas.width - 30),
    y: -30,
    r: 15
  });
}
setInterval(spawnFruit, 1000);

// Input
const keys = {};
window.addEventListener("keydown", e => keys[e.key] = true);
window.addEventListener("keyup", e => keys[e.key] = false);

function update() {
  // Move
  if (keys["ArrowLeft"]) player.x -= player.speed;
  if (keys["ArrowRight"]) player.x += player.speed;

  // Jump
  if (keys["ArrowUp"] && player.onGround) {
    player.vy = player.jump;
    player.onGround = false;
  }

  // Gravity
  player.vy += gravity;
  player.y += player.vy;

  // Ground
  if (player.y + player.h >= canvas.height - 40) {
    player.y = canvas.height - 40 - player.h;
    player.vy = 0;
    player.onGround = true;
  }

  // Fruits
  fruits.forEach(f => f.y += 4);
  fruits = fruits.filter(f => f.y < canvas.height + 50);
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Ground
  ctx.fillStyle = "#5d4037";
  ctx.fillRect(0, canvas.height - 40, canvas.width, 40);

  // Player
  ctx.fillStyle = "#2196f3";
  ctx.fillRect(player.x, player.y, player.w, player.h);

  // Fruits
  ctx.fillStyle = "red";
  fruits.forEach(f => {
    ctx.beginPath();
    ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
    ctx.fill();
  });
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}

loop();
</script>

</body>
</html>
